{"version":3,"sources":["components/theme-header-normal/style.js","components/theme-header-normal/index.js","components/pagination/style.js","components/pagination/index.js","components/album-cover/style.js","components/album-cover/index.js","pages/discover/c-pages/album/store/actionCreators.js","services/album.js","pages/discover/c-pages/album/c-cpns/hot-album/style.js","pages/discover/c-pages/album/c-cpns/hot-album/index.js","pages/discover/c-pages/album/c-cpns/top-album/style.js","pages/discover/c-pages/album/c-cpns/top-album/index.js","pages/discover/c-pages/album/style.js","pages/discover/c-pages/album/index.js"],"names":["HeaderWrapper","styled","div","memo","props","title","rightSlot","className","PaginationWrapper","currentPage","total","onPageChange","size","current","defaultCurrent","pageSize","showSizeChanger","itemRender","type","originalElement","onChange","AlbumWrapper","width","bgp","info","src","getSizeImage","picUrl","alt","href","name","artist","getHotAlbumsAction","dispatch","request","url","then","res","actionTypes","hotAlbums","albums","changeHotAlbumsAction","getTopAlbumsAction","page","limit","offset","params","topAlbums","changeTopAlbumAction","HotAlbumWrapper","useSelector","state","getIn","shallowEqual","useDispatch","useEffect","slice","map","item","index","key","id","TopAlbumWrapper","useState","setCurrentPage","AblumWrapper"],"mappings":"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","file":"static/js/6.1cdc85c4.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  display: flex;\r\n  padding-bottom: 5px;\r\n  border-bottom: 2px solid #c20c0c;\r\n  font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\r\n  font-size: 24px;\r\n`\r\n","import React, {memo} from 'react';\r\n\r\nimport {\r\n  HeaderWrapper\r\n} from \"./style\";\r\n\r\nexport default memo(function HYThemeHeaderNormal(props) {\r\n  const { title, rightSlot } = props;\r\n\r\n  return (\r\n    <HeaderWrapper>\r\n      <div className=\"title\">{title}</div>\r\n      <div className=\"right\">\r\n        {rightSlot}\r\n      </div>\r\n    </HeaderWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const PaginationWrapper = styled.div`\r\n  .pagination {\r\n    margin: 30px 0;\r\n    text-align: center;\r\n\r\n    .control {\r\n      width: 69px;\r\n      height: 24px;\r\n      line-height: 22px;\r\n      text-align: center;\r\n      border: 1px solid #ccc;\r\n      border-radius: 2px;\r\n      margin: 0 5px;\r\n      color: #333;\r\n\r\n      &:disabled {\r\n        color: #999;\r\n      }\r\n    }\r\n\r\n    .ant-pagination-item {\r\n      border: 1px solid #ccc !important;\r\n      margin: 0 5px;\r\n      border-radius: 3px;\r\n\r\n      a {\r\n        font-size: 12px;\r\n      }\r\n\r\n      &.ant-pagination-item-active {\r\n        background-color: #c20c0c;\r\n        border-color: #A2161B;\r\n        a {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import React, { memo } from 'react';\r\n\r\nimport { Pagination } from 'antd';\r\nimport { PaginationWrapper } from './style';\r\n\r\nexport default memo(function HYPagination(props) {\r\n  const { currentPage, total, onPageChange } = props;\r\n\r\n  // render function\r\n  function itemRender(current, type, originalElement) {\r\n    if (type === 'prev') {\r\n      return <button className=\"control prev\"> &lt; 上一页</button>;\r\n    }\r\n    if (type === 'next') {\r\n      return <button className=\"control next\">上一页 &gt;</button>;\r\n    }\r\n    return originalElement;\r\n  }\r\n\r\n  return (\r\n    <PaginationWrapper>\r\n      <Pagination className=\"pagination\"\r\n        size=\"small\"\r\n        current={currentPage}\r\n        defaultCurrent={1}\r\n        total={total}\r\n        pageSize={35}\r\n        showSizeChanger={false}\r\n        itemRender={itemRender}\r\n        onChange={onPageChange} />\r\n    </PaginationWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const AlbumWrapper = styled.div`\r\n  .album-image {\r\n    position: relative;\r\n    width: ${props => props.width};\r\n    height: ${props => props.size};\r\n    overflow: hidden;\r\n    margin-top: 15px;\r\n\r\n    img {\r\n      width: ${props => props.size};\r\n      height: ${props => props.size};\r\n    }\r\n\r\n    .cover {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      background-position: 0 ${props => props.bgp};\r\n      text-indent: -9999px;\r\n    }\r\n  }\r\n\r\n  .album-info {\r\n    font-size: 12px;\r\n    width: ${props => props.size};\r\n    .name {\r\n      color: #000;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .artist {\r\n      color: #666;\r\n    }\r\n  }\r\n`","import React, { memo } from 'react';\r\n\r\nimport {\r\n  getSizeImage\r\n} from \"@/utils/format-utils\";\r\n\r\nimport {\r\n  AlbumWrapper\r\n} from \"./style\";\r\n\r\n\r\nexport default memo(function HYAlbumCover(props) {\r\n  const { info, size = \"100px\", width = \"118px\", bgp = \"-570px\" } = props;\r\n\r\n  return (\r\n    <AlbumWrapper size={size} width={width} bgp={bgp}>\r\n      <div className=\"album-image\">\r\n        <img src={getSizeImage(info.picUrl, 150)} alt=\"\" />\r\n        <a href=\"/abc\" className=\"cover sprite_covor\">{info.name}</a>\r\n      </div>\r\n      <div className=\"album-info\">\r\n        <div className=\"name\">{info.name}</div>\r\n        <div className=\"artist\">{info.artist.name}</div>\r\n      </div>\r\n    </AlbumWrapper>\r\n  )\r\n})\r\n","import * as actionTypes from './constants';\r\n\r\nimport {\r\n  getHotAlbums,\r\n  getTopAlbums\r\n} from '@/services/album.js';\r\n\r\nconst changeHotAlbumsAction = (res) => ({\r\n  type: actionTypes.CHANGE_HOT_ALBUMS,\r\n  hotAlbums: res.albums\r\n})\r\n\r\nconst changeTopAlbumAction = (res) => ({\r\n  type: actionTypes.CHANGE_TOP_ALBUMS,\r\n  topAlbums: res.albums\r\n})\r\n\r\nconst changeTopTotalAction = (total) => ({\r\n  type: actionTypes.CHANGE_TOP_TOTAL,\r\n  total: total\r\n})\r\n\r\nexport const getHotAlbumsAction = () => {\r\n  return dispatch => {\r\n    getHotAlbums().then(res => {\r\n      dispatch(changeHotAlbumsAction(res));\r\n    })\r\n  }\r\n}\r\n\r\nexport const getTopAlbumsAction = (page) => {\r\n  return dispatch => {\r\n    getTopAlbums(30, (page-1) * 30).then(res => {\r\n      dispatch(changeTopAlbumAction(res));\r\n      dispatch(changeTopTotalAction(res.total));\r\n    })\r\n  }\r\n}\r\n","import request from './axios';\r\n\r\nexport function getHotAlbums() {\r\n  return request({\r\n    url: \"/album/newest\"\r\n  })\r\n}\r\n\r\nexport function getTopAlbums(limit, offset) {\r\n  return request({\r\n    url: \"/top/album\",\r\n    params: {\r\n      limit,\r\n      offset\r\n    }\r\n  })\r\n}","import styled from 'styled-components';\r\n\r\nexport const HotAlbumWrapper = styled.div`\r\n  .album-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n`","import React, { memo, useEffect } from 'react';\r\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\r\n\r\nimport { getHotAlbumsAction } from '../../store/actionCreators';\r\n\r\nimport HYAlbumCover from '@/components/album-cover';\r\nimport HYThemHeaderNormal from '@/components/theme-header-normal';\r\nimport {\r\n  HotAlbumWrapper\r\n} from './style';\r\n\r\nexport default memo(function HYHotAlbum() {\r\n\r\n  const { hotAlbums } = useSelector(state => ({\r\n    hotAlbums: state.getIn([\"album\", \"hotAlbums\"])\r\n  }), shallowEqual)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getHotAlbumsAction());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <HotAlbumWrapper>\r\n      <HYThemHeaderNormal title=\"热门新碟\" />\r\n      <div className=\"album-list\">\r\n        {\r\n          hotAlbums.slice(0, 10).map((item, index) => {\r\n            return <HYAlbumCover size={\"130px\"} \r\n                                 width={\"153px\"} \r\n                                 bgp={\"-845px\"}\r\n                                 key={item.id} \r\n                                 info={item}/>\r\n          })\r\n        }\r\n      </div>\r\n    </HotAlbumWrapper>\r\n  )\r\n});\r\n","import styled from 'styled-components';\r\n\r\nexport const TopAlbumWrapper = styled.div`\r\n  margin-top: 30px;\r\n  .album-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n`","import React, { memo, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\r\n\r\nimport { getTopAlbumsAction } from '../../store/actionCreators';\r\n\r\nimport HYThemeHeaderNormal from \"@/components/theme-header-normal\";\r\nimport HYAlbumCover from \"@/components/album-cover\";\r\nimport HYPagination from '@/components/pagination';\r\nimport {\r\n  TopAlbumWrapper\r\n} from './style';\r\n\r\nexport default memo(function HYTopAlbum() {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const { topAlbums, total } = useSelector(state => ({\r\n    topAlbums: state.getIn([\"album\", \"topAlbums\"]),\r\n    total: state.getIn([\"album\", \"topTotal\"])\r\n  }), shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getTopAlbumsAction(1));\r\n  }, [dispatch]);\r\n\r\n\r\n  const onPageChange = (page, pageSize) => {\r\n    setCurrentPage(page);\r\n    dispatch(getTopAlbumsAction(page))\r\n  }\r\n\r\n  return (\r\n    <TopAlbumWrapper>\r\n      <HYThemeHeaderNormal title=\"全部新碟\" />\r\n      <div className=\"album-list\">\r\n        {\r\n          topAlbums.map((item, index) => {\r\n            return <HYAlbumCover size={\"130px\"} \r\n                                 width={\"153px\"} \r\n                                 bgp={\"-845px\"}\r\n                                 key={item.id} \r\n                                 info={item}/>\r\n          })\r\n        }\r\n      </div>\r\n      <HYPagination currentPage={currentPage} \r\n                    total={total} \r\n                    pageSize={30}\r\n                    onPageChange={onPageChange}/>\r\n    </TopAlbumWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const AblumWrapper = styled.div`\r\n  padding: 40px;\r\n  background-color: #fff;\r\n  border: 1px solid #d3d3d3;\r\n  border-width: 0 1px;\r\n`","import React, { memo } from 'react';\r\n\r\nimport HYHotAlbum from './c-cpns/hot-album';\r\nimport HYTopAlbum from './c-cpns/top-album';\r\nimport {\r\n  AblumWrapper\r\n} from './style';\r\n\r\nexport default memo(function HYAlbum() {\r\n  return (\r\n    <AblumWrapper className=\"wrap-v2\">\r\n      <HYHotAlbum/>\r\n      <HYTopAlbum/>\r\n    </AblumWrapper>\r\n  )\r\n})\r\n"],"sourceRoot":""}